---
layout: archive
permalink: /tags/
title: "All Tags"
author_profile: true
---

{% include base_path %}

{%- assign all_tags = "" | split: "" -%}

{%- for p in site.posts -%}
  {%- if p.tags -%}{% for t in p.tags %}{% assign all_tags = all_tags | push: t %}{% endfor %}{%- endif -%}
{%- endfor -%}

{%- for c in site.collections -%}
  {%- assign label = c.label -%}
  {%- if label != "posts" -%}
    {%- for item in site[label] -%}
      {%- if item.tags -%}{% for t in item.tags %}{% assign all_tags = all_tags | push: t %}{% endfor %}{%- endif -%}
    {%- endfor -%}
  {%- endif -%}
{%- endfor -%}

{% assign all_tags = all_tags | uniq | sort %}

<ul>
  {%- for tag in all_tags -%}
    <li><a href="#{{ tag | slugify }}">{{ tag }}</a></li>
  {%- endfor -%}
</ul>

{%- for tag in all_tags -%}
  <h2 id="{{ tag | slugify }}" class="archive__subtitle">{{ tag }}</h2>

  {%- assign results = "" | split: "" -%}

  {%- for p in site.posts -%}
    {%- if p.tags and p.tags contains tag -%}{% assign results = results | push: p %}{%- endif -%}
  {%- endfor -%}

  {%- for c in site.collections -%}
    {%- assign label = c.label -%}
    {%- if label != "posts" -%}
      {%- for item in site[label] -%}
        {%- if item.tags and item.tags contains tag -%}{% assign results = results | push: item %}{%- endif -%}
      {%- endfor -%}
    {%- endif -%}
  {%- endfor -%}

  {% assign results = results | sort: "date" | reverse %}

  {%- for post in results -%}
    {% include archive-single.html %}
  {%- endfor -%}
{%- endfor -%}
